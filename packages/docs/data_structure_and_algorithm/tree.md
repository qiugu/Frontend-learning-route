# tree

## 树

任何树都可以使用二叉树模拟出来

### 树结构的优点

* 树结构是非线性的，可以表示一对多的关系
* 综合了其他数据结构的一些优点，并且也弥补了其他数据结构的缺点，例如，树结构是有序的，并且可以很快查找出最大值、最小值这样的特殊值
* 不能说树结构比其他的数据结构都要好，因为每种数据结构都有自己的应用场景

### 术语

* 树的概念：n（n &gt;= 0）个节点构成的有限集合，n = 0时成为空树
* 根（Root）
* 子树（SubTree）
* 父节点
* 子节点
* 兄弟节点
* 节点的度（Degree）：节点的子树个数
* 树的度：树的节点中最大的度
* 叶节点（Leaf）：度为0的节点
* 路径和路径长度
* 节点的层次：根节点在1层，其他各层在父节点的层次+1
* 树的深度：树中节点的最大层次

## 二叉树

### 特性

* 一个二叉树第i层的最大节点数为：`2^(i - 1), i >= 1`
* 深度为k的二叉树最大节点总数：`2^k - 1, k >= 1`
* 对任何非空二叉树T，若n0表示叶节点的个数、n2是度为2的非叶节点个数，那么两者满足关系：`n0 = n2 + 1`

### 完美二叉树（满二叉树）

每层节点都有2个子节点的二叉树

### 完全二叉树

* 除二叉树最后一层外，其他各层节点数都达到了最大个数
* 最后一层从左向右的叶节点连续存在，只缺右侧若干节点
* 完美二叉树是特殊的完全二叉树

### 二叉搜索树（BST）

1. 特性
2. 二叉搜索树是二叉树，可以为空
3. 非空左子树的所有值小于其根节点的值
4. 非空右子树的所有值大于其根节点的值
5. 左右子树本身也是一颗二叉搜索树
6. 删除二叉搜索树的节点
7. 前驱
8. 后继

### 平衡树

1. 二叉搜索树的缺陷：

   当插入连续的数时，会导致树的深度变大，导致左右不平衡，查找的时间复杂度接近O\(N\)

2. AVL树

   查找效率不如红黑树，查找时间复杂度接近O\(logN\)

### 红黑树

红黑树除了拥有二叉搜索树的特性外，还包含以下特性：

* 节点是红色或者是黑色
* 根节点是黑色
* 每个叶子节点都是黑色的空节点（NIL节点）
* 每个红色节点的两个子节点都是黑色（从每个叶子节点到根节点的所有路径上不能有两个连续的红色节点）
* 从任一节点到其每个叶子节点的所有路径都包含相同数目的黑色节点

红黑树一般插入的节点都为红色节点，插入红色节点有可能不需要进行变换就可以直接是红黑树

当插入的节点不满足红黑树的条件时，可以通过三种方法来进行变换 1. 变色 2. 坐旋转 3. 右旋转

红黑树插入节点情况分析：

* 当插入的树是空树，将插入节点变成黑色
* 当插入的节点的父节点为黑色节点，将插入节点变成红色
* 当插入节点的父节点和叔叔节点都是红色节点，祖父节点则是黑色节点，将祖父节点变成红色，父节点和叔叔节点变成黑色。如果此时曾祖父节点是红色，则需要将之前的子树作为红色节点插入到曾祖父节点中**递归**进行处理
* 当父节点为红色节点，叔叔节点是黑色，祖父节点是黑色，插入节点为父节点的左子节点，则需要将父节点变成黑色节点，祖父节点变成红色，进行右旋转
* 当父节点为红色节点，叔叔节点是黑色，祖父节点是黑色，插入节点为父节点的右子节点，则需要以父节点为根先进行左旋转，然后将父节点当做先插入的节点，此时情况与情况四相同，按照情况四先变色再进行右旋转

